pipeline{
    agent any
    stages{
        stage("build Application"){
            steps{
                echo "building application"
                sh 'mvn -f java-tomcat-sample/pom.xml clean package'

            }
        
             post{
                success{
                    archiveArtifacts artifacts: '**/*.war'
                     }
            }

        
            
        }

        stage("deploy to staging Environment"){
            steps{
                echo "deployment to Staging environment"
                build job: "deployment_staging_env"
        }
        }
        
    }
}