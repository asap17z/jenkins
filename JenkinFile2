pipeline{
    agent any
    stages{
        stage("build Application"){
            steps{
            sh "mvn -f maven-samples/pom.xml clean package"
            }

            steps{
                
              archiveArtifacts artifact:"**/*.war"
            }
            
        }

        stage("deploy to staging Environment"){
            steps{
            build job: "Deploy_Application_Staging"
        }
        }
        stage("Deploy_Application_Production){
            steps{

                timeout(time:5, units:'days"){
                    input message:"Approval Application Production Deployment"
                }
                build job :"Deploy_Application_Prod"
            }
        }
    }
}